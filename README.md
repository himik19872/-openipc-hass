# OpenIPC Camera for Home Assistant

[![HACS Custom](https://img.shields.io/badge/HACS-Custom-orange.svg)](https://hacs.xyz/)
[![GitHub Release](https://img.shields.io/github/v/release/himik19872/openipc-hass)](https://github.com/himik19872/openipc-hass/releases)
[![License](https://img.shields.io/github/license/himik19872/openipc-hass)](LICENSE)

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–º–µ—Ä–∞–º–∏ –Ω–∞ –ø—Ä–æ—à–∏–≤–∫–µ OpenIPC –≤ Home Assistant.

## üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç—ã

| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π | –ó–∞–ø–∏—Å—å —Å OSD | –ù–∞—Å—Ç—Ä–æ–π–∫–∏ |
|--------------------|--------------|-----------|
| ![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2026-02-22 130328](https://github.com/himik19872/openipc-hass/blob/main/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202026-02-22%20130328.png) | ![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2026-02-22 130357](https://github.com/himik19872/openipc-hass/blob/main/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202026-02-22%20130357.png) | ![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2026-02-22 130412](https://github.com/himik19872/openipc-hass/blob/main/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202026-02-22%20130412.png) |

| –î–∞—Ç—á–∏–∫–∏ | –ú–µ–¥–∏–∞-–ø–ª–µ–µ—Ä | –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ |
|---------|-------------|---------------|
| ![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2026-02-22 130426](https://github.com/himik19872/openipc-hass/blob/main/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202026-02-22%20130426.png) | ![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2026-02-22 130505](https://github.com/himik19872/openipc-hass/blob/main/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202026-02-22%20130505.png) | ![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2026-02-22 130520](https://github.com/himik19872/openipc-hass/blob/main/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202026-02-22%20130520.png) |

![–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2026-02-22 130554](https://github.com/himik19872/openipc-hass/blob/main/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202026-02-22%20130554.png)

–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è IP-–∫–∞–º–µ—Ä–∞–º–∏ –Ω–∞ –±–∞–∑–µ –ø—Ä–æ—à–∏–≤–æ–∫ **OpenIPC**, **Beward** –∏ **Vivotek** –≤ Home Assistant. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ, –∑–∞–ø–∏—Å—å, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram, –≥–æ–ª–æ—Å–æ–≤—ã–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è (TTS) –∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ (LNPR) –¥–ª—è Beward DS07P-LP.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üìπ **–í–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ**
- –ü—Ä–æ—Å–º–æ—Ç—Ä RTSP-–ø–æ—Ç–æ–∫–∞ (main/sub)
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–Ω–∏–º–∫–æ–≤ —Å –∫–∞–º–µ—Ä—ã
- –ó–∞–ø–∏—Å—å –≤–∏–¥–µ–æ –≤ –º–µ–¥–∏–∞-–ø–∞–ø–∫—É HA
- OSD (–Ω–∞–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –≤–∏–¥–µ–æ)

### üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
- –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ CPU
- FPS, –±–∏—Ç—Ä–µ–π—Ç, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
- –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã (uptime)
- –°–æ—Å—Ç–æ—è–Ω–∏–µ microSD-–∫–∞—Ä—Ç—ã
- –°–µ—Ç–µ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### üö® **–°–æ–±—ã—Ç–∏—è**
- –î–µ—Ç–µ–∫—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–≤–µ—Ä–∏ (–¥–ª—è Beward)
- –¢—Ä–µ–≤–æ–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
- **LNPR** - —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–Ω–æ–º–µ—Ä–æ–≤ (Beward DS07P-LP)

### üîä **–ì–æ–ª–æ—Å–æ–≤—ã–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è (TTS)**
- **Beward DS07P-LP** - —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –¥–∏–Ω–∞–º–∏–∫ (—Ñ–æ—Ä–º–∞—Ç A-law)
- **OpenIPC –∫–∞–º–µ—Ä—ã** - —á–µ—Ä–µ–∑ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–π –¥–∏–Ω–∞–º–∏–∫ (—Ñ–æ—Ä–º–∞—Ç PCM)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤
- –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∏ –≥—Ä—É–ø–ø–æ–≤—ã–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è

### üì± **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**
- Telegram (–æ—Ç–ø—Ä–∞–≤–∫–∞ –≤–∏–¥–µ–æ –∏ —Å–Ω–∏–º–∫–æ–≤)
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –Ω–∞ –≤—Å–µ —Å–æ–±—ã—Ç–∏—è
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–º–µ—Ä

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ß–µ—Ä–µ–∑ HACS (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –û—Ç–∫—Ä–æ–π—Ç–µ HACS –≤ Home Assistant
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ç—Ä–∏ —Ç–æ—á–∫–∏ –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É ‚Üí **"Custom repositories"**
3. –î–æ–±–∞–≤—å—Ç–µ: `https://github.com/himik19872/openipc-hass` —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π **"Integration"**
4. –ù–∞–∂–º–∏—Ç–µ **"Add"**
5. –ù–∞–π–¥–∏—Ç–µ **"OpenIPC Camera"** –≤ —Å–ø–∏—Å–∫–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ
6. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Home Assistant

### –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–∫–∞—á–∞–π—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π [—Ä–µ–ª–∏–∑](https://github.com/himik19872/openipc-hass/releases)
2. –†–∞—Å–ø–∞–∫—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ –ø–∞–ø–∫—É `/config/custom_components/openipc/`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Home Assistant

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã —á–µ—Ä–µ–∑ UI

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ —Å–ª—É–∂–±—ã**
2. –ù–∞–∂–º–∏—Ç–µ **"–î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é"**
3. –ù–∞–π–¥–∏—Ç–µ **"OpenIPC Camera"**
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:

| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|------|----------|--------|
| **IP –∞–¥—Ä–µ—Å** | –ê–¥—Ä–µ—Å –∫–∞–º–µ—Ä—ã –≤ —Å–µ—Ç–∏ | `192.168.1.100` |
| **HTTP –ø–æ—Ä—Ç** | –ü–æ—Ä—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ | `80` |
| **–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** | –õ–æ–≥–∏–Ω –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ | `root` |
| **–ü–∞—Ä–æ–ª—å** | –ü–∞—Ä–æ–ª—å | `12345` |
| **–ò–º—è –∫–∞–º–µ—Ä—ã** | –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è | `–£–ª–∏—á–Ω–∞—è –∫–∞–º–µ—Ä–∞` |
| **RTSP –ø–æ—Ä—Ç** | –ü–æ—Ä—Ç –¥–ª—è –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞ | `554` |
| **–ü—Ä–æ—Ñ–∏–ª—å –ø–æ—Ç–æ–∫–∞** | –û—Å–Ω–æ–≤–Ω–æ–π/–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π | `main` |
| **–¢–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞** | –ú–æ–¥–µ–ª—å –∫–∞–º–µ—Ä—ã | `OpenIPC` / `Beward` / `Vivotek` |

> **–í–∞–∂–Ω–æ**: –í—ã–±–æ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–∏–ø–∞ –∫—Ä–∏—Ç–∏—á–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π!

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### –°–ø–æ—Å–æ–± 1 (—á–µ—Ä–µ–∑ `configuration.yaml`):
```yaml
openipc:
  telegram_bot_token: "YOUR_BOT_TOKEN"
  telegram_chat_id: "YOUR_CHAT_ID"

–°–ø–æ—Å–æ–± 2 (—á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é):
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é Telegram bot


üîä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ TTS (Text-to-Speech)
–û–±—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
–î–ª—è —Ä–∞–±–æ—Ç—ã TTS –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã:

ffmpeg - –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∞—É–¥–∏–æ

gTTS - Python –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ä–µ—á–∏

curl - –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ –∫–∞–º–µ—Ä—ã

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ HA –æ–¥–∏–Ω —Ä–∞–∑):

apk add ffmpeg curl
pip3 install gtts

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª /config/ffmpeg_install.sh:


#!/bin/bash
echo "$(date): –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π..." >> /config/ffmpeg.log

if ! command -v ffmpeg &> /dev/null; then
    apk add ffmpeg >> /config/ffmpeg.log 2>&1
fi

if ! command -v curl &> /dev/null; then
    apk add curl >> /config/ffmpeg.log 2>&1
fi

if ! python3 -c "from gtts import gTTS" 2>/dev/null; then
    pip3 install gtts >> /config/ffmpeg.log 2>&1
fi


–°–¥–µ–ª–∞–π—Ç–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º –∏ –¥–æ–±–∞–≤—å—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ HA.

TTS –¥–ª—è Beward DS07P-LP
–°–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (/config/tts_cache/tts_generate.sh)


#!/bin/bash
MESSAGE="$1"
LANG="${2:-ru}"
FILENAME="$3"

if [ -z "$MESSAGE" ] || [ -z "$FILENAME" ]; then
    echo "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: $0 <—Ç–µ–∫—Å—Ç> <—è–∑—ã–∫> <–≤—ã—Ö–æ–¥–Ω–æ–π_—Ñ–∞–π–ª.alaw>"
    exit 1
fi

TIMESTAMP=$(date +%s)
TEMP_MP3="/tmp/tts_${TIMESTAMP}.mp3"

python3 -c "from gtts import gTTS; gTTS('''$MESSAGE''', lang='$LANG').save('$TEMP_MP3')" || exit 1
ffmpeg -y -i "$TEMP_MP3" -ar 8000 -ac 1 -f alaw "$FILENAME" 2>/dev/null
rm -f "$TEMP_MP3"


#!/bin/bash
MESSAGE="$1"
LANG="${2:-ru}"
FILENAME="$3"

if [ -z "$MESSAGE" ] || [ -z "$FILENAME" ]; then
    echo "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: $0 <—Ç–µ–∫—Å—Ç> <—è–∑—ã–∫> <–≤—ã—Ö–æ–¥–Ω–æ–π_—Ñ–∞–π–ª.alaw>"
    exit 1
fi

TIMESTAMP=$(date +%s)
TEMP_MP3="/tmp/tts_${TIMESTAMP}.mp3"

python3 -c "from gtts import gTTS; gTTS('''$MESSAGE''', lang='$LANG').save('$TEMP_MP3')" || exit 1
ffmpeg -y -i "$TEMP_MP3" -ar 8000 -ac 1 -f alaw "$FILENAME" 2>/dev/null
rm -f "$TEMP_MP3"


–ö–æ–º–∞–Ω–¥–∞ –≤ shell_commands.yaml:

beward_say: "/config/tts_cache/tts_generate.sh '{{ message }}' 'ru' '/config/tts_cache/last.alaw' && curl -X POST -u 'admin:password' -H 'Content-Type: audio/G.711A' --data-binary '@/config/tts_cache/last.alaw' 'http://192.168.1.10/cgi-bin/audio/transmit.cgi'"



TTS –¥–ª—è OpenIPC –∫–∞–º–µ—Ä
–°–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PCM (/config/tts_cache/tts_generate_openipc.sh)


#!/bin/bash
MESSAGE="$1"
LANG="${2:-ru}"
FILENAME="$3"

if [ -z "$MESSAGE" ] || [ -z "$FILENAME" ]; then
    echo "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: $0 <—Ç–µ–∫—Å—Ç> <—è–∑—ã–∫> <–≤—ã—Ö–æ–¥–Ω–æ–π_—Ñ–∞–π–ª.pcm>"
    exit 1
fi

TIMESTAMP=$(date +%s)
TEMP_MP3="/tmp/tts_${TIMESTAMP}.mp3"

python3 -c "from gtts import gTTS; gTTS('''$MESSAGE''', lang='$LANG').save('$TEMP_MP3')" || exit 1
ffmpeg -y -i "$TEMP_MP3" -ar 8000 -ac 1 -f s16le "$FILENAME" 2>/dev/null
rm -f "$TEMP_MP3"


–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞–º–µ—Ä—ã
–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∫–∞–º–µ—Ä—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä /config/openipc_say_192_168_1_75.sh:

#!/bin/bash
MESSAGE="$1"
TIMESTAMP=$(date +%s)
PCM_FILE="/tmp/openipc_75_${TIMESTAMP}.pcm"

/config/tts_cache/tts_generate_openipc.sh "$MESSAGE" "ru" "$PCM_FILE"

if [ -f "$PCM_FILE" ]; then
    curl -u "root:12345" --data-binary "@$PCM_FILE" "http://192.168.1.75/play_audio"
    rm -f "$PCM_FILE"
fi


–ö–æ–º–∞–Ω–¥—ã –≤ shell_commands.yaml:

openipc_say_75: "/config/openipc_say_192_168_1_75.sh '{{ message }}'"
openipc_say_106: "/config/openipc_say_192_168_1_106.sh '{{ message }}'"
openipc_say_91: "/config/openipc_say_192_168_1_91.sh '{{ message }}'"


–°–∫—Ä–∏–ø—Ç—ã –≤ scripts.yaml:


openipc_say_75:
  alias: OpenIPC 75 - –°–∫–∞–∑–∞—Ç—å —Ç–µ–∫—Å—Ç
  sequence:
    - action: shell_command.openipc_say_75
      data:
        message: "{{ message }}"
  fields:
    message:
      description: "–¢–µ–∫—Å—Ç –¥–ª—è –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è"
      required: true
      selector:
        text:

openipc_say_all:
  alias: OpenIPC - –°–∫–∞–∑–∞—Ç—å –Ω–∞ –≤—Å–µ –∫–∞–º–µ—Ä—ã
  sequence:
    - parallel:
        - action: script.openipc_say_75
          data:
            message: "{{ message }}"
        - action: script.openipc_say_106
          data:
            message: "{{ message }}"
        - action: script.openipc_say_91
          data:
            message: "{{ message }}"
  fields:
    message:
      description: "–¢–µ–∫—Å—Ç –¥–ª—è –æ–∑–≤—É—á–∏–≤–∞–Ω–∏—è"
      required: true


–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–º–µ—Ä OpenIPC
–î–ª—è —Ä–∞–±–æ—Ç—ã TTS –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–¥–µ–∫ –Ω–∞ PCM:

ssh root@192.168.1.75
cli -s .audio.codec pcm
cli -s .audio.outputVolume 100
killall majestic; sleep 2; majestic &
exit



–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞–º–µ—Ä—ã. –î–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ /etc/majestic.yaml:

audio:
  enabled: true
  codec: pcm           # –≤–º–µ—Å—Ç–æ alaw
  outputEnabled: true
  outputVolume: 100
  srate: 8000


–ü—Ä–∏–º–µ—Ä—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–π
Beward - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –¥–≤–µ—Ä–∏

- alias: "Beward - –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å"
  trigger:
    - platform: state
      entity_id: binary_sensor.beward_sipdomofon_door
      to: 'on'
  action:
    - service: script.beward_say
      data:
        message: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –¥–æ–º–æ–π!"


OpenIPC - –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ –æ –¥–≤–∏–∂–µ–Ω–∏–∏


- alias: "OpenIPC 75 - –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –¥–≤–∏–∂–µ–Ω–∏–µ"
  trigger:
    - platform: state
      entity_id: binary_sensor.openipc_75_motion
      to: 'on'
  action:
    - service: script.openipc_say_75
      data:
        message: "–í–Ω–∏–º–∞–Ω–∏–µ! –î–≤–∏–∂–µ–Ω–∏–µ –Ω–∞ –∑–∞–¥–Ω–µ–º –¥–≤–æ—Ä–µ"

–£—Ç—Ä–µ–Ω–Ω–µ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–∞ –≤—Å–µ—Ö –∫–∞–º–µ—Ä–∞—Ö

- alias: "–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ"
  trigger:
    - platform: time
      at: "08:00:00"
  action:
    - service: script.openipc_say_all
      data:
        message: "–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ! –°–µ–≥–æ–¥–Ω—è {{ states('weather.home') }}"


LNPR - —Å–≤–æ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å –∑–∞–µ—Ö–∞–ª


- alias: "–°–≤–æ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å"
  trigger:
    - platform: state
      entity_id: sensor.beward_sipdomofon_last_plate
  condition:
    - condition: template
      value_template: "{{ trigger.to_state.state == 'A123BC77' }}"
  action:
    - service: script.openipc_say_all
      data:
        message: "–°–≤–æ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å –∑–∞–µ—Ö–∞–ª, –æ—Ç–∫—Ä—ã–≤–∞—é –≤–æ—Ä–æ—Ç–∞"
    - service: switch.turn_on
      entity_id: switch.gate_opener


üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤
/config/
‚îú‚îÄ‚îÄ custom_components/openipc/          # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ tts_cache/                          # TTS —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ tts_generate.sh                  # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä A-law –¥–ª—è Beward
‚îÇ   ‚îú‚îÄ‚îÄ tts_generate_openipc.sh          # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä PCM –¥–ª—è OpenIPC
‚îÇ   ‚îî‚îÄ‚îÄ debug.log                         # –õ–æ–≥–∏ TTS
‚îú‚îÄ‚îÄ openipc_say_*.sh                      # –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–∞–º–µ—Ä
‚îú‚îÄ‚îÄ shell_commands.yaml                    # Shell –∫–æ–º–∞–Ω–¥—ã
‚îú‚îÄ‚îÄ scripts.yaml                           # –°–∫—Ä–∏–ø—Ç—ã HA
‚îî‚îÄ‚îÄ automations.yaml                        # –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏


üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞
–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ HA: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –°–∏—Å—Ç–µ–º–∞ ‚Üí –õ–æ–≥–∏

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ TTS: cat /config/tts_cache/debug.log

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–∞–º–µ—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω–∞: ping 192.168.1.x

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –∞—É–¥–∏–æ: –¥–ª—è Beward - A-law, –¥–ª—è OpenIPC - PCM


ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç
–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –ª—é–±—ã–µ contributions! –ï—Å–ª–∏ –≤—ã –Ω–∞—à–ª–∏ –±–∞–≥ –∏–ª–∏ —Ö–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é:

–§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

–°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

–û—Ç–ø—Ä–∞–≤—å—Ç–µ pull request

üìú –õ–∏—Ü–µ–Ω–∑–∏—è
–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT.

‚≠ê –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
–ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –æ–∫–∞–∑–∞–ª—Å—è –ø–æ–ª–µ–∑–Ω—ã–º, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥—É –Ω–∞ GitHub!



# –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

## [2.1.0] - 2026-02-25

### ‚ú® –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **TTS –¥–ª—è OpenIPC –∫–∞–º–µ—Ä** - –≥–æ–ª–æ—Å–æ–≤—ã–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ –¥–∏–Ω–∞–º–∏–∫
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö OpenIPC –∫–∞–º–µ—Ä** - –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π
- **–ì—Ä—É–ø–ø–æ–≤—ã–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è** - –æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—Å–µ—Ö –∫–∞–º–µ—Ä

### üîß –£–ª—É—á—à–µ–Ω–∏—è
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è TTS –¥–ª—è PCM —Ñ–æ—Ä–º–∞—Ç–∞
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ shell_commands

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ XRUN (–ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–∞) –Ω–∞ OpenIPC –∫–∞–º–µ—Ä–∞—Ö
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–¥–µ–∫–æ–≤ (PCM –¥–ª—è OpenIPC, A-law –¥–ª—è Beward)

## [2.0.0] - 2026-02-23

### ‚ú® –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Beward DS07P-LP
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Vivotek SD9364-EHL
- TTS –¥–ª—è Beward
- LNPR (—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –Ω–æ–º–µ—Ä–æ–≤) –¥–ª—è Beward














