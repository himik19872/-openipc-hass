reboot:
  name: Reboot camera
  description: Reboot the OpenIPC camera
  target:
    entity:
      integration: openipc
      domain: button

set_ir_mode:
  name: Set IR mode
  description: Set infrared filter mode
  target:
    entity:
      integration: openipc
      domain: switch
  fields:
    mode:
      name: Mode
      description: "IR mode: 0=Day, 1=Night, 2=Auto"
      required: true
      selector:
        select:
          options:
            - label: "Day"
              value: "0"
            - label: "Night"
              value: "1"
            - label: "Auto"
              value: "2"
              
play_audio:
  name: Play audio
  description: Play audio on camera speaker
  target:
    entity:
      integration: openipc
      domain: media_player
  fields:
    media_id:
      name: Media ID
      description: Audio file or command to play (e.g., "beep", "notification", "/path/to/file.wav")
      required: true
      example: "beep"
      selector:
        text:

test_audio:
  name: Test audio
  description: Test all audio endpoints and methods
  target:
    entity:
      integration: openipc
      domain: media_player

scan_devices:
  name: Scan for cameras
  description: Scan local network for OpenIPC cameras
  fields: {}

start_recording:
  name: Start recording
  description: Start video recording on camera
  target:
    entity:
      integration: openipc
      domain: camera
  fields:
    duration:
      name: Duration
      description: Recording duration in seconds (optional)
      required: false
      selector:
        number:
          min: 5
          max: 3600
          unit_of_measurement: seconds
    save_to_ha:
      name: Save to HA Media
      description: Save recording to Home Assistant media folder
      required: false
      default: true
      selector:
        boolean:
    method:
      name: Recording method
      description: Recording method (snapshots or rtsp)
      required: false
      default: "snapshots"
      selector:
        select:
          options:
            - label: "Snapshots (compatible)"
              value: "snapshots"
            - label: "RTSP (better quality)"
              value: "rtsp"

stop_recording:
  name: Stop recording
  description: Stop video recording on camera
  target:
    entity:
      integration: openipc
      domain: camera

timed_recording:
  name: Timed recording
  description: Start recording for specified duration
  target:
    entity:
      integration: openipc
      domain: camera
  fields:
    duration:
      name: Duration
      description: Recording duration in seconds
      required: true
      selector:
        select:
          options:
            - label: "15 seconds"
              value: "15"
            - label: "30 seconds"
              value: "30"
            - label: "1 minute"
              value: "60"
            - label: "3 minutes"
              value: "180"
            - label: "5 minutes"
              value: "300"
            - label: "10 minutes"
              value: "600"
    save_to_ha:
      name: Save to HA Media
      description: Save recording to Home Assistant media folder
      required: false
      default: true
      selector:
        boolean:
    method:
      name: Recording method
      description: Recording method (snapshots or rtsp)
      required: false
      default: "snapshots"
      selector:
        select:
          options:
            - label: "Snapshots (compatible)"
              value: "snapshots"
            - label: "RTSP (better quality)"
              value: "rtsp"

get_recordings:
  name: Get recordings list
  description: Get list of recordings in HA media folder
  target:
    entity:
      integration: openipc
      domain: camera
  fields:
    limit:
      name: Limit
      description: Maximum number of recordings to return
      required: false
      default: 20
      selector:
        number:
          min: 1
          max: 100

delete_recording:
  name: Delete recording
  description: Delete a recording file
  target:
    entity:
      integration: openipc
      domain: camera
  fields:
    filename:
      name: Filename
      description: Name of the recording file to delete
      required: true
      selector:
        text:

record_and_send_telegram:
  name: Record and send to Telegram
  description: Record video and send to Telegram
  target:
    entity:
      integration: openipc
      domain: camera
  fields:
    duration:
      name: Duration
      description: Recording duration in seconds
      required: true
      selector:
        select:
          options:
            - label: "15 seconds"
              value: "15"
            - label: "30 seconds"
              value: "30"
            - label: "1 minute"
              value: "60"
            - label: "3 minutes"
              value: "180"
            - label: "5 minutes"
              value: "300"
            - label: "10 minutes"
              value: "600"
    method:
      name: Recording method
      description: Recording method (snapshots or rtsp)
      required: false
      default: "snapshots"
      selector:
        select:
          options:
            - label: "Snapshots (compatible)"
              value: "snapshots"
            - label: "RTSP (better quality)"
              value: "rtsp"
    caption:
      name: Caption
      description: Custom caption for Telegram message
      required: false
      selector:
        text:
    chat_id:
      name: Chat ID
      description: Telegram chat ID (optional, uses default if not specified)
      required: false
      selector:
        text:

diagnose_rtsp:
  name: Diagnose RTSP
  description: Check RTSP stream availability and find working paths
  target:
    entity:
      integration: openipc
      domain: camera

diagnose_telegram:
  name: Diagnose Telegram
  description: Check Telegram bot configuration
  target:
    entity:
      integration: openipc
      domain: camera

test_telegram:
  name: Test Telegram File Send
  description: Test sending a file to Telegram
  target:
    entity:
      integration: openipc
      domain: camera
  fields:
    chat_id:
      name: Chat ID
      description: Telegram chat ID (optional)
      required: false
      selector:
        text:
        
get_recordings_stats:
  name: Get recordings statistics
  description: Get statistics about all recordings
  target:
    entity:
      integration: openipc
      domain: camera

delete_all_recordings:
  name: Delete all recordings
  description: Delete all recorded videos
  target:
    entity:
      integration: openipc
      domain: camera

get_video_thumbnail:
  name: Get video thumbnail
  description: Get thumbnail for a specific video
  target:
    entity:
      integration: openipc
      domain: camera
  fields:
    filename:
      name: Filename
      description: Name of the video file
      required: true
      selector:
        text:
        
record_with_osd:
  name: Record video with OSD
  description: Record video with on-screen display of sensor data
  target:
    entity:
      integration: openipc
      domain: camera
  fields:
    duration:
      name: Duration
      description: Recording duration in seconds
      required: true
      selector:
        select:
          options:
            - label: "15 seconds"
              value: "15"
            - label: "30 seconds"
              value: "30"
            - label: "1 minute"
              value: "60"
            - label: "3 minutes"
              value: "180"
            - label: "5 minutes"
              value: "300"
    template:
      name: OSD Template
      description: "Text template with placeholders: {camera_name}, {timestamp}, {cpu_temp}, {uptime}, {fps}, {bitrate}, {resolution}, {wifi_signal}, {motion}, {recording}"
      required: false
      default: "{camera_name}\n{timestamp}\nTemp: {cpu_temp}Â°C\nUptime: {uptime}"
      selector:
        text:
          multiline: true
    position:
      name: OSD Position
      description: Position of OSD on screen
      required: false
      default: "top_left"
      selector:
        select:
          options:
            - label: "Top Left"
              value: "top_left"
            - label: "Top Right"
              value: "top_right"
            - label: "Bottom Left"
              value: "bottom_left"
            - label: "Bottom Right"
              value: "bottom_right"
            - label: "Center"
              value: "center"
    font_size:
      name: Font Size
      description: Font size in pixels
      required: false
      default: 24
      selector:
        number:
          min: 12
          max: 72
          step: 2
          unit_of_measurement: px
    color:
      name: Text Color
      description: Color of OSD text
      required: false
      default: "white"
      selector:
        select:
          options:
            - label: "White"
              value: "white"
            - label: "Black"
              value: "black"
            - label: "Red"
              value: "red"
            - label: "Green"
              value: "green"
            - label: "Blue"
              value: "blue"
            - label: "Yellow"
              value: "yellow"
            - label: "Cyan"
              value: "cyan"
            - label: "Magenta"
              value: "magenta"
    send_telegram:
      name: Send to Telegram
      description: Send recorded video to Telegram
      required: false
      default: false
      selector:
        boolean:

# Audio services for Beward
beward_play_beep:
  name: Play beep
  description: Play a beep sound on Beward doorbell
  target:
    entity:
      integration: openipc
      domain: media_player

beward_play_ringtone:
  name: Play ringtone
  description: Play a ringtone on Beward doorbell
  target:
    entity:
      integration: openipc
      domain: media_player

beward_play_audio:
  name: Play audio from URL
  description: Play audio file from URL on Beward doorbell
  target:
    entity:
      integration: openipc
      domain: media_player
  fields:
    url:
      name: Audio URL
      description: URL to audio file (WAV, G.711 format)
      required: true
      example: "http://example.com/sound.wav"
      selector:
        text:

beward_set_volume:
  name: Set volume
  description: Set speaker volume (0-100)
  target:
    entity:
      integration: openipc
      domain: media_player
  fields:
    volume:
      name: Volume
      description: Volume level (0-100)
      required: true
      selector:
        number:
          min: 0
          max: 100
          unit_of_measurement: "%"

beward_enable_audio:
  name: Enable audio
  description: Enable or disable audio
  target:
    entity:
      integration: openipc
      domain: media_player
  fields:
    enable:
      name: Enable
      description: True to enable, False to disable
      required: true
      selector:
        boolean:
        
 # LNPR Services
lnpr_get_list:
  name: Get LNPR whitelist
  description: Get list of authorized license plates
  target:
    entity:
      integration: openipc
      domain: camera

lnpr_add_plate:
  name: Add license plate
  description: Add license plate to whitelist
  target:
    entity:
      integration: openipc
      domain: camera
  fields:
    number:
      name: Plate number
      description: License plate number
      required: true
      example: "A123BC77"
      selector:
        text:
    begin:
      name: Begin date
      description: Start date of validity (YYYY-MM-DD)
      required: false
      example: "2024-01-01"
      selector:
        text:
    end:
      name: End date
      description: End date of validity (YYYY-MM-DD)
      required: false
      example: "2025-12-31"
      selector:
        text:
    notify:
      name: Notify
      description: Enable email notification
      required: false
      default: false
      selector:
        boolean:
    note:
      name: Note
      description: Additional note (max 20 chars)
      required: false
      example: "My car"
      selector:
        text:

lnpr_delete_plate:
  name: Delete license plate
  description: Remove license plate from whitelist
  target:
    entity:
      integration: openipc
      domain: camera
  fields:
    number:
      name: Plate number
      description: License plate number to delete
      required: true
      example: "A123BC77"
      selector:
        text:

lnpr_export_events:
  name: Export LNPR events
  description: Export license plate recognition events
  target:
    entity:
      integration: openipc
      domain: camera
  fields:
    days:
      name: Days
      description: Number of days to export (default 7)
      required: false
      default: 7
      selector:
        number:
          min: 1
          max: 30
          unit_of_measurement: days

lnpr_clear_events:
  name: Clear LNPR events
  description: Clear license plate recognition event log
  target:
    entity:
      integration: openipc
      domain: camera

lnpr_clear_list:
  name: Clear LNPR whitelist
  description: Remove all license plates from whitelist
  target:
    entity:
      integration: openipc
      domain: camera

lnpr_get_picture:
  name: Get LNPR picture
  description: Get picture of recognized license plate
  target:
    entity:
      integration: openipc
      domain: camera
  fields:
    time:
      name: Event time
      description: Event time in format "YYYY-MM-DD HH:MM:SS-N"
      required: true
      example: "2024-01-15 14:30:25-1"
      selector:
        text:
    filename:
      name: Filename
      description: Where to save the picture
      required: true
      example: "/config/www/lnpr.jpg"
      selector:
        text:
        